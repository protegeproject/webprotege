version: "3"

services:

  wpmongo:
    container_name: webprotege-mongodb
    image: mongo:4.1-bionic
    restart: unless-stopped
    volumes:
      - webprotege-mongo-data:/data/db

  webprotege:
    container_name: webprotege
    image: webprotege-standalone
    depends_on:
      - wpmongo
    restart: unless-stopped
    environment:
      - WEBPROTEGE_MONGODB_HOST=wpmongo
    # TODO: provide other env vars
    volumes:
      - webprotege-app-data:/srv/webprotege
    ports:
      - 8080:8080

volumes:
  webprotege-app-data:
  webprotege-mongo-data:

